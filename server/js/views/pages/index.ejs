<!DOCTYPE html>
<html lang="en">
<head>
    <link href='https://api.mapbox.com/mapbox-gl-js/v0.52.0/mapbox-gl.css' rel='stylesheet' type='text/css' />
    <link rel='stylesheet' href='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v3.1.0/mapbox-gl-geocoder.css' type='text/css' />
    <% include ../components/head %>
</head>
<body>
    <main>
        <h1>
            Unsplash slider
        </h1>
        <input type="text" class="searchBox" placeholder="What are you looking for?"/>
        <section>
            <div class="photos">
                <% images.forEach(function(image) { %>
                    <div class="image-wrapper">
                        <img 
                            class="image"
                            srcset="<%= image.urls && image.urls.thumb %> 200w, <%= image.urls && image.urls.small %> 400w, <%= image.urls && image.urls.regular %> 1080w"
                            sizes="(max-width: 480px) 200px,
                                (min-width: 480px and max-width: 600px) 400px,
                                1080px"
                            src="<%= image.urls && image.urls.regular %>" 
                            data-location="<%= image.user && image.user.location %>"
                            style="background-color: <%= image.color %>;"
                            alt="image">
                        <a class="link" href="/detail/<%= image.id %>">More about this picture</a>
                    </div>
                <% }) %>
            </div>
            <div id="map" style="min-width: 40vw; max-height: 90vh; margin-top: 2em; margin-right: 2em; position: relative;"></div>
        </section>
    </main>

    <script src='https://api.mapbox.com/mapbox-gl-js/plugins/mapbox-gl-geocoder/v3.1.0/mapbox-gl-geocoder.min.js'></script>
    <script src='https://api.mapbox.com/mapbox-gl-js/v0.52.0/mapbox-gl.js'></script>
    <script src="js/index.js"></script>
</body>
</html>